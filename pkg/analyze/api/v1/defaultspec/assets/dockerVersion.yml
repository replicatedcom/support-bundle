analyze:
  v1:
    - name: docker.version
      labels:
        iconKey: docker_whale
        desiredPosition: "2"
      registerVariables:
        - name: version
          fileMatch:
            pathRegexps:
              - /docker_info\.json
            regexpCapture:
              regexp: '"ServerVersion": *"([^"]+)"'
              index: 1
      precondition:
        not:
          empty: {}
          variableRef: version
      condition:
        eval: "true"
      messages:
        preconditionFalse:
          primary: "?"
          detail: Could not determine docker version
          severity: warn
          labels:
            iconKey: no_docker
        conditionTrue:
          primary: Docker {{repl .version}}
          detail: Docker server version is {{repl .version}}
          severity: info

raw:
  conditions:
    - eval:
        operator: and
        statements:
          - '{{repl .Empty}}'
        variables:
          - Empty: '{{repl not ._Ref}}'
      severity: error
      is_precondition: true
      message: >-
        Failed to detect Kubernetes version
    - eval:
        operator: and
        statements:
          - '{{repl semver "{{{.SemverMin}}}" | (semver .Semver).Compare | ge 0}}'
        variables:
          - Semver: '{{repl jq ._Ref ".gitVersion" | jqMessagesToString | trimPrefix "v"}}'
      severity: error
      message: >-
        Your Kubernetes version {{repl .Semver}} is less than the minimum
        required version of {{{.SemverMin}}}
message: Kubernetes version must be at least {{{.SemverMin}}}
